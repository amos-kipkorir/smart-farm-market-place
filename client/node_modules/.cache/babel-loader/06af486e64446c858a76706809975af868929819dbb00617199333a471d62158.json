{"ast":null,"code":"import _objectSpread from\"/home/amos/Development/code/phase-4/smart-farm-market-place/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Login.js\nimport React,{useState}from'react';import{Container,Row,Col,Card,Form,Button,Alert}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{Formik,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[error,setError]=useState('');const{login}=useAuth();const navigate=useNavigate();const validationSchema=Yup.object().shape({username:Yup.string().min(3,'Username must be at least 3 characters').required('Username is required'),password:Yup.string().min(6,'Password must be at least 6 characters').required('Password is required')});const handleSubmit=async(values,_ref)=>{let{setSubmitting}=_ref;setError('');const result=await login(values.username,values.password);if(result.success){navigate('/dashboard');}else{setError(result.message);}setSubmitting(false);};return/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:6,lg:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-4\",children:\"Login to Agriconnect\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:''},validationSchema:validationSchema,onSubmit:handleSubmit,children:_ref2=>{let{handleSubmit,isSubmitting}=_ref2;return/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Field,{name:\"username\",children:_ref3=>{let{field}=_ref3;return/*#__PURE__*/_jsx(Form.Control,_objectSpread({type:\"text\",placeholder:\"Enter your username\"},field));}}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",children:_ref4=>{let{field}=_ref4;return/*#__PURE__*/_jsx(Form.Control,_objectSpread({type:\"password\",placeholder:\"Enter your password\"},field));}}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",className:\"w-100\",disabled:isSubmitting,children:isSubmitting?'Logging in...':'Login'})]});}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register here\"})]})})]})})})})});};export default Login;","map":{"version":3,"names":["React","useState","Container","Row","Col","Card","Form","Button","Alert","Link","useNavigate","Formik","Field","ErrorMessage","Yup","useAuth","jsx","_jsx","jsxs","_jsxs","Login","error","setError","login","navigate","validationSchema","object","shape","username","string","min","required","password","handleSubmit","values","_ref","setSubmitting","result","success","message","className","children","md","lg","Body","variant","initialValues","onSubmit","_ref2","isSubmitting","Group","Label","name","_ref3","field","Control","_objectSpread","type","placeholder","component","_ref4","disabled","to"],"sources":["/home/amos/Development/code/phase-4/smart-farm-market-place/client/src/pages/Login.js"],"sourcesContent":["// src/pages/Login.js\nimport React, { useState } from 'react';\nimport { Container, Row, Col, Card, Form, Button, Alert } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Formik, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useAuth } from '../context/AuthContext';\n\nconst Login = () => {\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string()\n      .min(3, 'Username must be at least 3 characters')\n      .required('Username is required'),\n    password: Yup.string()\n      .min(6, 'Password must be at least 6 characters')\n      .required('Password is required')\n  });\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    setError('');\n\n    const result = await login(values.username, values.password);\n    \n    if (result.success) {\n      navigate('/dashboard');\n    } else {\n      setError(result.message);\n    }\n    setSubmitting(false);\n  };\n\n  return (\n    <Container className=\"py-5\">\n      <Row className=\"justify-content-center\">\n        <Col md={6} lg={4}>\n          <Card>\n            <Card.Body>\n              <h3 className=\"text-center mb-4\">Login to Agriconnect</h3>\n              \n              {error && <Alert variant=\"danger\">{error}</Alert>}\n              \n              <Formik\n                initialValues={{ username: '', password: '' }}\n                validationSchema={validationSchema}\n                onSubmit={handleSubmit}\n              >\n                {({ handleSubmit, isSubmitting }) => (\n                  <Form onSubmit={handleSubmit}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Username</Form.Label>\n                      <Field name=\"username\">\n                        {({ field }) => (\n                          <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter your username\"\n                            {...field}\n                          />\n                        )}\n                      </Field>\n                      <ErrorMessage name=\"username\" component=\"div\" className=\"text-danger\" />\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Password</Form.Label>\n                      <Field name=\"password\">\n                        {({ field }) => (\n                          <Form.Control\n                            type=\"password\"\n                            placeholder=\"Enter your password\"\n                            {...field}\n                          />\n                        )}\n                      </Field>\n                      <ErrorMessage name=\"password\" component=\"div\" className=\"text-danger\" />\n                    </Form.Group>\n\n                    <Button \n                      variant=\"success\" \n                      type=\"submit\" \n                      className=\"w-100\" \n                      disabled={isSubmitting}\n                    >\n                      {isSubmitting ? 'Logging in...' : 'Login'}\n                    </Button>\n                  </Form>\n                )}\n              </Formik>\n\n              <div className=\"text-center mt-3\">\n                <p>Don't have an account? <Link to=\"/register\">Register here</Link></p>\n              </div>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}